<div class="chat-message" [ngClass]="msg.from === userService.username ? 'user' : 'bot'">
	<span class="sender">
		{{ msg.from === userService.username ? 'You' : (msg.from === 'bot' ? 'Recall Rick' : msg.from) }}
	</span>
	<div class="text">{{ msg.question }}</div>
	<div class="timestamp">{{ msg.sentAt | date : "shortTime" }}</div>

	<div *ngIf="msg.answers?.length" class="replies-preview">
		<div class="reply" *ngFor="let reply of msg.answers">
			<span>{{ reply.from === userService.username ? 'You' : (reply.from === 'bot' ? 'Bot' : reply.from) }}:</span>
			{{ reply.question }}
		</div>
	</div>

	<div *ngIf="showReplies" class="reply-box">
		<input [(ngModel)]="newReplyText" placeholder="Write a reply..."/>
		<button (click)="submitReply()">Send</button>
	</div>

	<button class="reply-btn" (click)="toggleReplies()">Reply</button>
</div>
